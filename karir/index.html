<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulir Lamaran Kerja - Career Application</title>
    <link
      rel="stylesheet"
      href="/node_modules/bootstrap/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="/node_modules/bootstrap-icons/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../src/css/karir.css" />
  </head>
  <body class="container">
    <!-- Alert Container -->
    <div class="alert-container" id="alertContainer"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-content">
        <div
          class="spinner-border loading-spinner text-light"
          role="status"
        ></div>
        <p class="mt-3">Mengirim lamaran Anda...</p>
      </div>
    </div>

    <div class="">
      <div class="row justify-content-center">
        <nav class="navbar col-lg-10 mb-3">
          <div class="d-flex align-items-center gap-2">
            <i class="bi bi-arrow-left"></i>
            <a class="nav-link" href="/">kembali</a>
          </div>
        </nav>
        <div class="col-lg-10">
          <div class="form-container">
            <div class="form-header">
              <h1>Formulir Lamaran Kerja</h1>
              <p class="mb-0">
                Bergabunglah dengan tim kami dan kembangkan karir Anda
              </p>
            </div>

            <div class="form-body">
              <form id="applicationForm" novalidate>
                <!-- Job Position -->
                <div class="mb-4">
                  <label for="jobId" class="form-label">
                    Posisi yang Dilamar
                    <span class="required">*</span>
                  </label>
                  <select class="form-select" id="jobId" name="job_id" required>
                    <option value="" selected disabled>
                      Pilih posisi yang tersedia...
                    </option>
                    <!-- Options will be loaded dynamically -->
                  </select>
                  <div class="invalid-feedback"></div>
                </div>

                <!-- Full Name -->
                <div class="mb-4">
                  <label for="name" class="form-label">
                    Nama Lengkap
                    <span class="required">*</span>
                  </label>
                  <input
                    type="text"
                    class="form-control"
                    id="name"
                    name="name"
                    placeholder="Masukkan nama lengkap Anda"
                    maxlength="120"
                    required
                  />
                  <div class="invalid-feedback"></div>
                </div>

                <!-- Email -->
                <div class="mb-4">
                  <label for="email" class="form-label">
                    Email
                    <span class="required">*</span>
                  </label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="email"
                    placeholder="contoh@email.com"
                    maxlength="150"
                    required
                  />
                  <div class="invalid-feedback"></div>
                </div>

                <!-- Phone -->
                <div class="mb-4">
                  <label for="phone" class="form-label">
                    Nomor Telepon
                    <span class="required">*</span>
                  </label>
                  <input
                    type="tel"
                    class="form-control"
                    id="phone"
                    name="phone"
                    placeholder="+62 812-3456-7890"
                    maxlength="30"
                    required
                  />
                  <div class="invalid-feedback"></div>
                  <div class="form-text">
                    Format: +62, 08xx, atau dengan tanda baca lainnya
                  </div>
                </div>

                <!-- CV Upload -->
                <div class="mb-4">
                  <label class="form-label">
                    Upload CV
                    <span class="required">*</span>
                  </label>
                  <div class="file-upload-wrapper" id="cvUploadWrapper">
                    <input
                      type="file"
                      id="cv"
                      name="cv"
                      accept=".pdf"
                      required
                    />
                    <i class="bi bi-cloud-upload file-upload-icon"></i>
                    <p class="mb-1">Klik atau drag & drop file CV Anda</p>
                    <small class="text-muted">Format: PDF, Maksimal 2MB</small>

                    <div class="file-info" id="cvFileInfo">
                      <div
                        class="d-flex justify-content-between align-items-center"
                      >
                        <div>
                          <i class="bi bi-file-pdf text-danger"></i>
                          <span id="cvFileName"></span>
                          <small
                            class="text-muted d-block"
                            id="cvFileSize"
                          ></small>
                        </div>
                        <button
                          type="button"
                          class="btn btn-sm btn-outline-danger"
                          onclick="clearFile('cv')"
                        >
                          <i class="bi bi-x-lg"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="invalid-feedback"></div>
                </div>

                <!-- Cover Letter Upload -->
                <div class="mb-4">
                  <label class="form-label">
                    Upload Cover Letter
                    <span class="required">*</span>
                  </label>
                  <div class="file-upload-wrapper" id="clUploadWrapper">
                    <input
                      type="file"
                      id="coverLetter"
                      name="cover_letter"
                      accept=".pdf"
                      required
                    />
                    <i class="bi bi-cloud-upload file-upload-icon"></i>
                    <p class="mb-1">
                      Klik atau drag & drop file Cover Letter Anda
                    </p>
                    <small class="text-muted">Format: PDF, Maksimal 2MB</small>

                    <div class="file-info" id="clFileInfo">
                      <div
                        class="d-flex justify-content-between align-items-center"
                      >
                        <div>
                          <i class="bi bi-file-pdf text-danger"></i>
                          <span id="clFileName"></span>
                          <small
                            class="text-muted d-block"
                            id="clFileSize"
                          ></small>
                        </div>
                        <button
                          type="button"
                          class="btn btn-sm btn-outline-danger"
                          onclick="clearFile('coverLetter')"
                        >
                          <i class="bi bi-x-lg"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="invalid-feedback"></div>
                </div>

                <!-- Submit Button -->
                <div class="d-grid gap-2 mt-5">
                  <button
                    type="submit"
                    class="btn btn-primary btn-submit"
                    id="submitBtn"
                  >
                    <i class="bi bi-send-fill"></i> Kirim Lamaran
                  </button>
                </div>

                <p class="text-center text-muted mt-3 mb-0">
                  <small
                    >Dengan mengirim formulir ini, Anda menyetujui kebijakan
                    privasi kami</small
                  >
                </p>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="/src/js/karir.js"></script>
  </body>
</html>
